{"ast":null,"code":"import axios from 'axios';\nimport FormData from 'form-data';\n\nclass ModeAppraisalAPI {\n  init(_ref) {\n    let {\n      server\n    } = _ref;\n    this.server = server;\n    this.req = axios.create({\n      baseURL: this.server,\n      headers: {}\n    });\n    return this;\n  }\n\n  _sendPostRequest(url, form) {\n    if (form.getHeaders) {\n      return this.req.post(url, form, {\n        headers: form.getHeaders()\n      });\n    }\n\n    return this.req.post(url, form);\n  }\n\n  oneRecordAppraisal() {\n    let p = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const url = this.server + '/api/one-record-appraisal/';\n    let formData = new FormData();\n    Object.keys(p).forEach(key => {\n      formData.append(key, p[key]);\n    });\n    return this._sendPostRequest(url, formData);\n  }\n\n  fileAppraisal(file) {\n    const url = this.server + '/api/appraisal/file/';\n    let formData = new FormData();\n    formData.append('file', file);\n    return this._sendPostRequest(url, formData);\n  }\n\n}\n\nconst {\n  server\n} = window.app;\nlet modeAppraisalAPI = new ModeAppraisalAPI();\nmodeAppraisalAPI.init({\n  server\n});\nexport default modeAppraisalAPI;","map":{"version":3,"names":["axios","FormData","ModeAppraisalAPI","init","server","req","create","baseURL","headers","_sendPostRequest","url","form","getHeaders","post","oneRecordAppraisal","p","formData","Object","keys","forEach","key","append","fileAppraisal","file","window","app","modeAppraisalAPI"],"sources":["/Users/2pr/working/state-grid/private-state-grid-dj/frontend/src/api/mode-appraisal-api.js"],"sourcesContent":["import axios from 'axios';\nimport FormData from 'form-data';\n\nclass ModeAppraisalAPI {\n  \n  init({ server }) {\n    this.server = server;\n    this.req = axios.create({\n      baseURL: this.server,\n      headers: { }\n    });\n    return this;\n  }\n\n  _sendPostRequest(url, form) {\n    if (form.getHeaders) {\n      return this.req.post(url, form, {\n        headers:form.getHeaders()\n      });\n    }\n    return this.req.post(url, form);\n  }\n\n  oneRecordAppraisal(p = {}) {\n    const url = this.server + '/api/one-record-appraisal/';\n    let formData = new FormData();\n    Object.keys(p).forEach(key => {\n      formData.append(key, p[key]);\n    });\n    return this._sendPostRequest(url, formData);\n  }\n\n  fileAppraisal(file) {\n    const url = this.server + '/api/appraisal/file/';\n    let formData = new FormData();\n    formData.append('file', file);\n    return this._sendPostRequest(url, formData);\n  }\n\n}\n\nconst { server } = window.app;\nlet modeAppraisalAPI = new ModeAppraisalAPI();\nmodeAppraisalAPI.init({ server });\n\nexport default modeAppraisalAPI;\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAEA,MAAMC,gBAAN,CAAuB;EAErBC,IAAI,OAAa;IAAA,IAAZ;MAAEC;IAAF,CAAY;IACf,KAAKA,MAAL,GAAcA,MAAd;IACA,KAAKC,GAAL,GAAWL,KAAK,CAACM,MAAN,CAAa;MACtBC,OAAO,EAAE,KAAKH,MADQ;MAEtBI,OAAO,EAAE;IAFa,CAAb,CAAX;IAIA,OAAO,IAAP;EACD;;EAEDC,gBAAgB,CAACC,GAAD,EAAMC,IAAN,EAAY;IAC1B,IAAIA,IAAI,CAACC,UAAT,EAAqB;MACnB,OAAO,KAAKP,GAAL,CAASQ,IAAT,CAAcH,GAAd,EAAmBC,IAAnB,EAAyB;QAC9BH,OAAO,EAACG,IAAI,CAACC,UAAL;MADsB,CAAzB,CAAP;IAGD;;IACD,OAAO,KAAKP,GAAL,CAASQ,IAAT,CAAcH,GAAd,EAAmBC,IAAnB,CAAP;EACD;;EAEDG,kBAAkB,GAAS;IAAA,IAARC,CAAQ,uEAAJ,EAAI;IACzB,MAAML,GAAG,GAAG,KAAKN,MAAL,GAAc,4BAA1B;IACA,IAAIY,QAAQ,GAAG,IAAIf,QAAJ,EAAf;IACAgB,MAAM,CAACC,IAAP,CAAYH,CAAZ,EAAeI,OAAf,CAAuBC,GAAG,IAAI;MAC5BJ,QAAQ,CAACK,MAAT,CAAgBD,GAAhB,EAAqBL,CAAC,CAACK,GAAD,CAAtB;IACD,CAFD;IAGA,OAAO,KAAKX,gBAAL,CAAsBC,GAAtB,EAA2BM,QAA3B,CAAP;EACD;;EAEDM,aAAa,CAACC,IAAD,EAAO;IAClB,MAAMb,GAAG,GAAG,KAAKN,MAAL,GAAc,sBAA1B;IACA,IAAIY,QAAQ,GAAG,IAAIf,QAAJ,EAAf;IACAe,QAAQ,CAACK,MAAT,CAAgB,MAAhB,EAAwBE,IAAxB;IACA,OAAO,KAAKd,gBAAL,CAAsBC,GAAtB,EAA2BM,QAA3B,CAAP;EACD;;AAlCoB;;AAsCvB,MAAM;EAAEZ;AAAF,IAAaoB,MAAM,CAACC,GAA1B;AACA,IAAIC,gBAAgB,GAAG,IAAIxB,gBAAJ,EAAvB;AACAwB,gBAAgB,CAACvB,IAAjB,CAAsB;EAAEC;AAAF,CAAtB;AAEA,eAAesB,gBAAf"},"metadata":{},"sourceType":"module"}