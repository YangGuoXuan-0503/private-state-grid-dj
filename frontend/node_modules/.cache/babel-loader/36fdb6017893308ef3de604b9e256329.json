{"ast":null,"code":"import axios from 'axios';\nimport FormData from 'form-data';\n\nclass ModeAppraisalAPI {\n  init(_ref) {\n    let {\n      server\n    } = _ref;\n    this.server = server;\n\n    if (this.token && this.server) {\n      this.req = axios.create({\n        baseURL: this.server,\n        headers: {}\n      });\n    }\n\n    return this;\n  }\n\n  _sendPostRequest(url, form) {\n    console.log(url);\n\n    if (form.getHeaders) {\n      return this.req.post(url, form, {\n        headers: form.getHeaders()\n      });\n    }\n\n    return this.req.post(url, form);\n  }\n\n  fileAppraisal(file) {\n    const url = this.server + '/api/appraisal/file/';\n    let formData = new FormData();\n    formData.append('file', file);\n    return this._sendPostRequest(url, formData);\n  }\n\n}\n\nconst {\n  server\n} = window.app;\nlet modeAppraisalAPI = new ModeAppraisalAPI();\nmodeAppraisalAPI.init({\n  server\n});\nexport default modeAppraisalAPI;","map":{"version":3,"names":["axios","FormData","ModeAppraisalAPI","init","server","token","req","create","baseURL","headers","_sendPostRequest","url","form","console","log","getHeaders","post","fileAppraisal","file","formData","append","window","app","modeAppraisalAPI"],"sources":["/Users/2pr/working/state-grid/private-state-grid-dj/frontend/src/api/mode-appraisal-api.js"],"sourcesContent":["import axios from 'axios';\nimport FormData from 'form-data';\n\nclass ModeAppraisalAPI {\n  \n  init({ server }) {\n    this.server = server;\n    if (this.token && this.server) {\n      this.req = axios.create({\n        baseURL: this.server,\n        headers: { }\n      });\n    }\n    return this;\n  }\n\n  _sendPostRequest(url, form) {\n    console.log(url)\n    if (form.getHeaders) {\n      return this.req.post(url, form, {\n        headers:form.getHeaders()\n      });\n    }\n    return this.req.post(url, form);\n  }\n\n  fileAppraisal(file) {\n    const url = this.server + '/api/appraisal/file/';\n    let formData = new FormData();\n    formData.append('file', file);\n    return this._sendPostRequest(url, formData);\n  }\n\n}\n\nconst { server } = window.app;\nlet modeAppraisalAPI = new ModeAppraisalAPI();\nmodeAppraisalAPI.init({ server });\n\nexport default modeAppraisalAPI\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;;AAEA,MAAMC,gBAAN,CAAuB;EAErBC,IAAI,OAAa;IAAA,IAAZ;MAAEC;IAAF,CAAY;IACf,KAAKA,MAAL,GAAcA,MAAd;;IACA,IAAI,KAAKC,KAAL,IAAc,KAAKD,MAAvB,EAA+B;MAC7B,KAAKE,GAAL,GAAWN,KAAK,CAACO,MAAN,CAAa;QACtBC,OAAO,EAAE,KAAKJ,MADQ;QAEtBK,OAAO,EAAE;MAFa,CAAb,CAAX;IAID;;IACD,OAAO,IAAP;EACD;;EAEDC,gBAAgB,CAACC,GAAD,EAAMC,IAAN,EAAY;IAC1BC,OAAO,CAACC,GAAR,CAAYH,GAAZ;;IACA,IAAIC,IAAI,CAACG,UAAT,EAAqB;MACnB,OAAO,KAAKT,GAAL,CAASU,IAAT,CAAcL,GAAd,EAAmBC,IAAnB,EAAyB;QAC9BH,OAAO,EAACG,IAAI,CAACG,UAAL;MADsB,CAAzB,CAAP;IAGD;;IACD,OAAO,KAAKT,GAAL,CAASU,IAAT,CAAcL,GAAd,EAAmBC,IAAnB,CAAP;EACD;;EAEDK,aAAa,CAACC,IAAD,EAAO;IAClB,MAAMP,GAAG,GAAG,KAAKP,MAAL,GAAc,sBAA1B;IACA,IAAIe,QAAQ,GAAG,IAAIlB,QAAJ,EAAf;IACAkB,QAAQ,CAACC,MAAT,CAAgB,MAAhB,EAAwBF,IAAxB;IACA,OAAO,KAAKR,gBAAL,CAAsBC,GAAtB,EAA2BQ,QAA3B,CAAP;EACD;;AA5BoB;;AAgCvB,MAAM;EAAEf;AAAF,IAAaiB,MAAM,CAACC,GAA1B;AACA,IAAIC,gBAAgB,GAAG,IAAIrB,gBAAJ,EAAvB;AACAqB,gBAAgB,CAACpB,IAAjB,CAAsB;EAAEC;AAAF,CAAtB;AAEA,eAAemB,gBAAf"},"metadata":{},"sourceType":"module"}